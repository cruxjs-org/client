{"version":3,"sources":["../src/index.ts"],"names":["ClientManager","config","signal","EventsManager","WindowManager","routesArray","path","component","createRouter","to","eventOrTarget","callbackOrEvent","handler","options","err","mountSelector","setupAuto","selector","container","effect","currentPath","Component","node","e","target","event","getI18n","key","defaultValue","i18n","message","t","clientManager","getGlobalClientManager"],"mappings":"oHAmBW,IAAMA,CAAAA,CAAN,KAAoB,CAcnB,YAAYC,CAAAA,CAAmC,CAP/C,IAAA,CAAQ,SAAA,CAAyE,UAEjF,IAAA,CAAQ,KAAA,CAAiD,EAAC,CAE1D,KAAQ,eAAA,CAA6D,EAAC,CACtE,IAAA,CAAQ,iBAAA,CAAsBC,cAAAA,CAAe,MAAA,CAAO,QAAA,CAAS,UAAY,GAAG,CAAA,CAGxE,IAAA,CAAK,MAAA,CAASD,EACd,IAAA,CAAK,KAAA,CAAQA,CAAAA,CAAO,KAAA,EAAS,MAE7B,IAAA,CAAK,GAAA,CAAI,+BAA+B,CAAA,CAGxC,KAAK,eAAA,CAAkBA,CAAAA,CAAO,MAAA,CAG9B,IAAA,CAAK,cAAgB,IAAIE,qBAAAA,CACzB,IAAA,CAAK,aAAA,CAAgB,IAAIC,qBAAAA,CAGzB,IAAMC,CAAAA,CAAc,MAAA,CAAO,QAAQJ,CAAAA,CAAO,MAAM,CAAA,CAAE,GAAA,CAAI,CAAC,CAACK,CAAAA,CAAMC,CAAS,KAAO,CAC1E,IAAA,CAAAD,CAAAA,CACA,SAAA,CAAAC,CACJ,CAAA,CAAE,CAAA,CAEF,IAAA,CAAK,MAAA,CAASC,qBAAa,CACvB,MAAA,CAAQH,CAAAA,CACR,iBAAA,CAAmBJ,EAAO,iBAC9B,CAAC,CAAA,CAGD,IAAA,CAAK,OAAO,SAAA,CAAWQ,CAAAA,EAAO,CAC1B,IAAA,CAAK,kBAAkB,GAAA,CAAIA,CAAAA,CAAG,IAAI,EACtC,CAAC,CAAA,CAGA,UAAA,CAAmB,kBAAA,CAAqB,IAAA,CAEzC,IAAA,CAAK,GAAA,CAAI,8BAA8B,EAC3C,CAmBA,EAAA,CACIC,CAAAA,CACAC,CAAAA,CACAC,CAAAA,CACAC,EACmB,CAEnB,OAAI,OAAOH,CAAAA,EAAkB,UAAYA,CAAAA,CAAc,UAAA,CAAW,IAAI,CAAA,EAClE,KAAK,KAAA,CAAMA,CAA+C,CAAA,CAAIC,CAAAA,CACvD,MAIJ,IAAA,CAAK,aAAA,CAAc,EAAA,CACtBD,CAAAA,CACAC,EACAC,CAAAA,CACAC,CACJ,CACJ,CAUA,MAAM,IAAA,EAAsB,CACxB,GAAI,IAAA,CAAK,SAAA,GAAc,SAAA,CAAW,CAC9B,OAAA,CAAQ,KAAK,6CAA6C,CAAA,CAC1D,MACJ,CAEA,KAAK,GAAA,CAAI,oBAAe,CAAA,CAExB,GAAI,CAEI,IAAA,CAAK,MAAA,CAAO,IAAA,EAChB,MAAM,IAAA,CAAK,SAAA,CAAU,IAAA,CAAK,MAAA,CAAO,IAAK,CAAA,CAGlC,IAAA,CAAK,KAAA,CAAM,MAAA,GACX,KAAK,GAAA,CAAI,4BAAuB,CAAA,CAChC,MAAM,KAAK,KAAA,CAAM,MAAA,EAAO,CAAA,CAG5B,IAAA,CAAK,GAAA,CAAI,4BAAuB,EACpC,CAAA,MAASC,EAAK,CACV,MAAA,OAAA,CAAQ,KAAA,CAAM,8BAAA,CAAgCA,CAAG,CAAA,CAC3CA,CACV,CACJ,CAMA,MAAM,KAAA,CAAMC,CAAAA,CAAoD,CAC5D,GAAI,KAAK,SAAA,GAAc,SAAA,CAAW,CAC9B,OAAA,CAAQ,KAAK,qDAAqD,CAAA,CAClE,MACJ,CAEA,KAAK,GAAA,CAAI,qBAAgB,CAAA,CAEzB,GAAI,CAEA,IAAA,CAAK,KAAA,CAAMA,CAAa,CAAA,CACxB,IAAA,CAAK,GAAA,CAAI,uBAAkB,CAAA,CAGvB,KAAK,KAAA,GACJ,UAAA,CAAmB,kBAAA,CAAqB,IAAA,CACzC,KAAK,GAAA,CAAI,yCAAoC,CAAA,CAAA,CAI7C,IAAA,CAAK,MAAM,OAAA,GACX,IAAA,CAAK,GAAA,CAAI,6BAAwB,EACjC,MAAM,IAAA,CAAK,KAAA,CAAM,OAAA,IAGrB,IAAA,CAAK,SAAA,CAAY,OAAA,CACjB,IAAA,CAAK,IAAI,6BAAwB,CAAA,CACjC,IAAA,CAAK,GAAA,CAAI,sBAAiB,EAC9B,CAAA,MAASD,CAAAA,CAAK,CACV,MAAA,OAAA,CAAQ,KAAA,CAAM,+BAAA,CAAiCA,CAAG,EAC5CA,CACV,CACJ,CAKA,MAAM,SAAyB,CAC3B,GAAI,IAAA,CAAK,SAAA,GAAc,YAAa,CAChC,OAAA,CAAQ,IAAA,CAAK,mCAAmC,EAChD,MACJ,CAEA,IAAA,CAAK,SAAA,CAAY,aACjB,IAAA,CAAK,GAAA,CAAI,uBAAkB,CAAA,CAE3B,GAAI,CAEI,IAAA,CAAK,KAAA,CAAM,SAAA,GACX,KAAK,GAAA,CAAI,+BAA0B,CAAA,CACnC,MAAM,IAAA,CAAK,KAAA,CAAM,SAAA,EAAU,CAAA,CAI/B,KAAK,aAAA,CAAc,OAAA,EAAQ,CAC3B,IAAA,CAAK,cAAc,OAAA,EAAQ,CAE3B,IAAA,CAAK,SAAA,CAAY,YACjB,IAAA,CAAK,GAAA,CAAI,+BAA0B,EACvC,CAAA,MAASA,CAAAA,CAAK,CACV,MAAA,OAAA,CAAQ,MAAM,iCAAA,CAAmCA,CAAG,CAAA,CAC9CA,CACV,CACJ,CA8BC,MAAM,SAAA,CAAUb,CAAAA,CAAoB,CACjC,IAAA,CAAK,GAAA,CAAI,oBAAoB,CAAA,CAE7B,GAAI,CACA,MAAMe,cAAAA,CAAU,CACZ,eAAA,CAAiBf,CAAAA,CAAO,eAAA,CACxB,kBAAA,CAAoBA,EAAO,kBAAA,CAC3B,QAAA,CAAUA,CAAAA,CAAO,QAAA,CACjB,cAAeA,CAAAA,CAAO,aAAA,EAAiB,MAC3C,CAAC,EAED,IAAA,CAAK,GAAA,CAAI,CAAA,kBAAA,EAAgBA,CAAAA,CAAO,mBAAoB,IAAA,CAAK,IAAI,CAAC,CAAA,CAAE,EACpE,CAAA,MAASa,CAAAA,CAAK,CACV,MAAA,IAAA,CAAK,IAAI,sBAAA,CAA0BA,CAAAA,CAAc,OAAO,CAAA,CAClDA,CACV,CACJ,CAKA,QAAA,CAASR,EAAoB,CACzB,IAAA,CAAK,MAAA,CAAO,IAAA,CAAKA,CAAI,EACzB,CAMA,KAAA,CAAMW,CAAAA,CAAsC,CACxC,IAAMC,CAAAA,CAAY,OAAOD,CAAAA,EAAa,SAChC,QAAA,CAAS,aAAA,CAAcA,CAAQ,CAAA,CAC/BA,EAEN,GAAI,CAACC,CAAAA,CAAW,CACZ,QAAQ,IAAA,CAAK,yCAAA,CAA2CD,CAAQ,CAAA,CAChE,MACJ,CAGAE,cAAAA,CAAO,IAAM,CACT,IAAMC,CAAAA,CAAc,IAAA,CAAK,iBAAA,GACnBC,CAAAA,CAAY,IAAA,CAAK,eAAA,CAAgBD,CAAW,GAC3C,IAAA,CAAK,MAAA,CAAO,iBAAA,EACZ,IAAA,CAKP,GAFAF,CAAAA,CAAU,SAAA,CAAY,EAAA,CAElBG,CAAAA,CAAW,CACX,IAAMC,CAAAA,CAAOD,CAAAA,EAAU,CACnBC,aAAgB,IAAA,EAChBJ,CAAAA,CAAU,WAAA,CAAYI,CAAI,EAElC,CAAA,KACIJ,CAAAA,CAAU,SAAA,CAAY,0CAAA,CAG1B,KAAK,GAAA,CAAI,CAAA,yBAAA,EAAuBE,CAAW,CAAA,CAAE,EACjD,CAAC,CAAA,CAED,IAAA,CAAK,IAAI,+BAA0B,EACvC,CAKA,cAAA,EAAiB,CACb,OAAO,IAAA,CAAK,iBAChB,CAKA,kBAAkBd,CAAAA,CAAc,CAC5B,OAAQiB,CAAAA,EAAkB,CACtBA,CAAAA,CAAE,cAAA,EAAe,CACjB,KAAK,QAAA,CAASjB,CAAI,EACtB,CACJ,CAKA,SAAA,EAAY,CACR,OAAO,IAAA,CAAK,MAChB,CAUA,GAAA,CAAIkB,CAAAA,CAAqBC,CAAAA,CAAeb,CAAAA,CAA8B,CAClE,IAAA,CAAK,aAAA,CAAc,IAAIY,CAAAA,CAAQC,CAAAA,CAAOb,CAAO,EACjD,CAKA,gBAAA,EAAkC,CAC9B,OAAO,IAAA,CAAK,aAChB,CAUA,WAAA,EAAc,CACV,OAAO,KAAK,aAAA,CAAc,WAAA,EAC9B,CAKA,kBAAkC,CAC9B,OAAO,IAAA,CAAK,aAChB,CAUA,OAAA,EAAU,CACN,OAAOc,YAAAA,EACX,CAKA,CAAA,CAAEC,CAAAA,CAAaC,CAAAA,CAAuB,CAClC,IAAMC,CAAAA,CAAOH,YAAAA,GACb,OAAKG,CAAAA,CAIEA,CAAAA,CAAK,CAAA,CAAEF,CAAG,CAAA,EAAKC,CAAAA,EAAgBD,CAAAA,EAHlC,OAAA,CAAQ,KAAK,mEAAmE,CAAA,CACzEC,CAAAA,EAAgBD,CAAAA,CAG/B,CAUA,QAAA,EAAW,CACP,OAAO,IAAA,CAAK,SAChB,CAKA,OAAA,EAAmB,CACf,OAAO,KAAK,SAAA,GAAc,OAC9B,CAKQ,GAAA,CAAIG,EAAuB,CAC3B,IAAA,CAAK,KAAA,EACL,OAAA,CAAQ,GAAA,CAAI,CAAA,gBAAA,EAAmBA,CAAO,CAAA,CAAE,EAEhD,CAIR,EAWO,SAASC,CAAAA,CAAEJ,EAAaC,CAAAA,CAAuB,CAClD,IAAMI,CAAAA,CAAgBC,GAAuB,CAC7C,OAAKD,CAAAA,CAIEA,CAAAA,CAAc,EAAEL,CAAAA,CAAKC,CAAY,CAAA,EAHpC,OAAA,CAAQ,KAAK,8DAA8D,CAAA,CACpEA,CAAAA,EAAgBD,CAAAA,CAG/B,CAKO,SAASM,CAAAA,EAAoD,CAChE,OAAQ,WAAmB,kBAC/B","file":"index.cjs","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n// src/index.ts\r\n//\r\n// Made with ❤️ by Maysara.\r\n\r\n\r\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\r\n\r\n    import { signal, effect } from '@minejs/signals';\r\n    import { I18nConfig, setupAuto, getI18n } from '@minejs/i18n';\r\n    import { EventsManager, Router, WindowManager, createRouter } from '@minejs/browser';\r\n    import * as types from './types';\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ CORE ════════════════════════════════════════╗\r\n\r\n    export class ClientManager {\r\n\r\n        // ┌──────────────────────────────── INIT ──────────────────────────────┐\r\n\r\n            private router              : Router;\r\n            private eventsManager       : EventsManager;\r\n            private windowManager       : WindowManager;\r\n            private lifecycle           : 'booting' | 'ready' | 'destroying' | 'destroyed' = 'booting';\r\n            private config              : types.ClientManagerConfig;\r\n            private hooks               : types.ClientManagerHooks = {};\r\n            private debug               : boolean;\r\n            private routeComponents     : Record<string, types.RouteComponent> = {};\r\n            private currentPathSignal   = signal<string>(window.location.pathname ?? '/');\r\n\r\n            constructor(config: types.ClientManagerConfig) {\r\n                this.config = config;\r\n                this.debug = config.debug ?? false;\r\n\r\n                this.log('[INIT] Creating ClientManager');\r\n\r\n                // Store route components provided by user\r\n                this.routeComponents = config.routes;\r\n\r\n                // Initialize managers from @minejs/browser\r\n                this.eventsManager = new EventsManager();\r\n                this.windowManager = new WindowManager();\r\n\r\n                // Initialize router with user-provided routes\r\n                const routesArray = Object.entries(config.routes).map(([path, component]) => ({\r\n                    path,\r\n                    component\r\n                }));\r\n\r\n                this.router = createRouter({\r\n                    routes: routesArray,\r\n                    notFoundComponent: config.notFoundComponent,\r\n                });\r\n\r\n                // Connect router changes to signal for automatic re-rendering\r\n                this.router.afterEach((to) => {\r\n                    this.currentPathSignal.set(to.path);\r\n                });\r\n\r\n                // Make clientManager globally available\r\n                (globalThis as any).__CLIENT_MANAGER__ = this;\r\n\r\n                this.log('[INIT] ClientManager created');\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌──────────────────────────────── ──── ──────────────────────────────┐\r\n\r\n            /**\r\n             * Setup lifecycle hooks OR bind events\r\n             * Overloaded: on(event: 'onBoot'|'onReady'|'onDestroy', callback) - lifecycle\r\n             *             on(target, event, handler) - event binding\r\n             */\r\n            on(event: keyof types.ClientManagerHooks, callback: any): this;\r\n            on<K extends keyof HTMLElementEventMap>(\r\n                target: EventTarget,\r\n                event: K | string,\r\n                handler: EventListener,\r\n                options?: AddEventListenerOptions\r\n            ): () => void;\r\n            on(\r\n                eventOrTarget: keyof types.ClientManagerHooks | EventTarget,\r\n                callbackOrEvent?: any,\r\n                handler?: EventListener,\r\n                options?: AddEventListenerOptions\r\n            ): this | (() => void) {\r\n                // Check if this is a lifecycle hook call\r\n                if (typeof eventOrTarget === 'string' && eventOrTarget.startsWith('on')) {\r\n                    this.hooks[eventOrTarget as keyof types.ClientManagerHooks] = callbackOrEvent;\r\n                    return this;\r\n                }\r\n\r\n                // Otherwise it's an event binding\r\n                return this.eventsManager.on(\r\n                    eventOrTarget as EventTarget,\r\n                    callbackOrEvent as string,\r\n                    handler as EventListener,\r\n                    options\r\n                );\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌──────────────────────────────── ──── ──────────────────────────────┐\r\n\r\n            /**\r\n             * Bootstrap the app - Phase 1: BOOT\r\n             */\r\n            async boot(): Promise<void> {\r\n                if (this.lifecycle !== 'booting') {\r\n                    console.warn('[ClientManager] Already booted or destroyed');\r\n                    return;\r\n                }\r\n\r\n                this.log('⚡ Phase: BOOT');\r\n\r\n                try {\r\n                    // Setup i18n\r\n                    if (this.config.i18n)\r\n                    await this.setupI18n(this.config.i18n!);\r\n\r\n                    // Call user onBoot hook\r\n                    if (this.hooks.onBoot) {\r\n                        this.log('→ Calling onBoot hook');\r\n                        await this.hooks.onBoot();\r\n                    }\r\n\r\n                    this.log('✓ BOOT phase complete');\r\n                } catch (err) {\r\n                    console.error('[ClientManager] Boot failed:', err);\r\n                    throw err;\r\n                }\r\n            }\r\n\r\n            /**\r\n             * Ready the app - Phase 2: READY\r\n             * Mount to DOM and make everything live\r\n             */\r\n            async ready(mountSelector: string | HTMLElement): Promise<void> {\r\n                if (this.lifecycle !== 'booting') {\r\n                    console.warn('[ClientManager] Cannot ready - not in booting phase');\r\n                    return;\r\n                }\r\n\r\n                this.log('⚡ Phase: READY');\r\n\r\n                try {\r\n                    // Mount router\r\n                    this.mount(mountSelector);\r\n                    this.log('→ Router mounted');\r\n\r\n                    // Setup global access for debugging\r\n                    if (this.debug) {\r\n                        (globalThis as any).__CLIENT_MANAGER__ = this;\r\n                        this.log('→ ClientManager available globally');\r\n                    }\r\n\r\n                    // Call user onReady hook\r\n                    if (this.hooks.onReady) {\r\n                        this.log('→ Calling onReady hook');\r\n                        await this.hooks.onReady();\r\n                    }\r\n\r\n                    this.lifecycle = 'ready';\r\n                    this.log('✓ READY phase complete');\r\n                    this.log('✓ App is ready!');\r\n                } catch (err) {\r\n                    console.error('[ClientManager] Ready failed:', err);\r\n                    throw err;\r\n                }\r\n            }\r\n\r\n            /**\r\n             * Shutdown the app - Phase 3: DESTROY\r\n             */\r\n            async destroy(): Promise<void> {\r\n                if (this.lifecycle === 'destroyed') {\r\n                    console.warn('[ClientManager] Already destroyed');\r\n                    return;\r\n                }\r\n\r\n                this.lifecycle = 'destroying';\r\n                this.log('⚡ Phase: DESTROY');\r\n\r\n                try {\r\n                    // Call user onDestroy hook\r\n                    if (this.hooks.onDestroy) {\r\n                        this.log('→ Calling onDestroy hook');\r\n                        await this.hooks.onDestroy();\r\n                    }\r\n\r\n                    // Cleanup managers\r\n                    this.eventsManager.destroy();\r\n                    this.windowManager.destroy();\r\n\r\n                    this.lifecycle = 'destroyed';\r\n                    this.log('✓ DESTROY phase complete');\r\n                } catch (err) {\r\n                    console.error('[ClientManager] Destroy failed:', err);\r\n                    throw err;\r\n                }\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌──────────────────────────────── ──── ──────────────────────────────┐\r\n\r\n            /**\r\n             * Initializes internationalization (i18n) support\r\n             *\r\n             * Loads language files and configures the i18n system based on:\r\n             * - Default language\r\n             * - Supported languages\r\n             * - Base path for translation files\r\n             * - File extension (json, cjson, etc.)\r\n             *\r\n             * @param {AppConfig} config - Application configuration with i18n settings\r\n             * @param {Logger} logger - Logger instance for logging setup progress\r\n             * @returns {Promise<void>}\r\n             * @throws {Error} If i18n setup or language file loading fails\r\n             *\r\n             * @example\r\n             * await setupI18n({\r\n             *   i18n: {\r\n             *     defaultLanguage: 'en',\r\n             *     supportedLanguages: ['en', 'ar'],\r\n             *     basePath: './src/i18n'\r\n             *   }\r\n             * }, logger);\r\n             */\r\n             async setupI18n(config: I18nConfig) {\r\n                this.log('Setting up i18n...');\r\n\r\n                try {\r\n                    await setupAuto({\r\n                        defaultLanguage: config.defaultLanguage,\r\n                        supportedLanguages: config.supportedLanguages,\r\n                        basePath: config.basePath!,\r\n                        fileExtension: config.fileExtension || 'json'\r\n                    });\r\n\r\n                    this.log(`i18n ready → ${config.supportedLanguages!.join(', ')}`);\r\n                } catch (err) {\r\n                    this.log('Failed to setup i18n' + (err as Error).message);\r\n                    throw err;\r\n                }\r\n            }\r\n\r\n            /**\r\n             * Navigate to path\r\n             */\r\n            navigate(path: string): void {\r\n                this.router.push(path);\r\n            }\r\n\r\n            /**\r\n             * Mount router to DOM element and setup reactive routing\r\n             * Automatically re-renders when route changes\r\n             */\r\n            mount(selector: string | HTMLElement): void {\r\n                const container = typeof selector === 'string'\r\n                    ? document.querySelector(selector)\r\n                    : selector;\r\n\r\n                if (!container) {\r\n                    console.warn('[ClientManager] Mount target not found:', selector);\r\n                    return;\r\n                }\r\n\r\n                // Setup reactive routing effect - re-renders when currentPathSignal changes\r\n                effect(() => {\r\n                    const currentPath = this.currentPathSignal();\r\n                    const Component = this.routeComponents[currentPath]\r\n                        || this.config.notFoundComponent\r\n                        || null;\r\n\r\n                    // Clear and mount new component\r\n                    container.innerHTML = '';\r\n\r\n                    if (Component) {\r\n                        const node = Component();\r\n                        if (node instanceof Node) {\r\n                            container.appendChild(node);\r\n                        }\r\n                    } else {\r\n                        container.innerHTML = '<p>No component found for this route</p>';\r\n                    }\r\n\r\n                    this.log(`→ Route changed to: ${currentPath}`);\r\n                });\r\n\r\n                this.log('→ Routing setup complete');\r\n            }\r\n\r\n            /**\r\n             * Get current path signal for reactivity\r\n             */\r\n            getCurrentPath() {\r\n                return this.currentPathSignal;\r\n            }\r\n\r\n            /**\r\n             * Create navigation link handler\r\n             */\r\n            createLinkHandler(path: string) {\r\n                return (e: MouseEvent) => {\r\n                    e.preventDefault();\r\n                    this.navigate(path);\r\n                };\r\n            }\r\n\r\n            /**\r\n             * Get underlying router for advanced usage\r\n             */\r\n            getRouter() {\r\n                return this.router;\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌──────────────────────────────── ──── ──────────────────────────────┐\r\n\r\n            /**\r\n             * Unbind event\r\n             */\r\n            off(target: EventTarget, event: string, handler: EventListener): void {\r\n                this.eventsManager.off(target, event, handler);\r\n            }\r\n\r\n            /**\r\n             * Get events manager directly\r\n             */\r\n            getEventsManager(): EventsManager {\r\n                return this.eventsManager;\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌──────────────────────────────── ──── ──────────────────────────────┐\r\n\r\n            /**\r\n             * Get viewport info as reactive signal\r\n             */\r\n            getViewport() {\r\n                return this.windowManager.getViewport();\r\n            }\r\n\r\n            /**\r\n             * Get window manager directly\r\n             */\r\n            getWindowManager(): WindowManager {\r\n                return this.windowManager;\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌──────────────────────────────── ──── ──────────────────────────────┐\r\n\r\n            /**\r\n             * Get i18n instance for translations\r\n             */\r\n            getI18n() {\r\n                return getI18n();\r\n            }\r\n\r\n            /**\r\n             * Get translation string\r\n             */\r\n            t(key: string, defaultValue?: string) {\r\n                const i18n = getI18n();\r\n                if (!i18n) {\r\n                    console.warn('[ClientManager] i18n not initialized. Using default value or key.');\r\n                    return defaultValue ?? key;\r\n                }\r\n                return i18n.t(key) ?? defaultValue ?? key;\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌──────────────────────────────── ──── ──────────────────────────────┐\r\n\r\n            /**\r\n             * Get lifecycle phase\r\n             */\r\n            getPhase() {\r\n                return this.lifecycle;\r\n            }\r\n\r\n            /**\r\n             * Check if ready\r\n             */\r\n            isReady(): boolean {\r\n                return this.lifecycle === 'ready';\r\n            }\r\n\r\n            /**\r\n             * Internal logging\r\n             */\r\n            private log(message: string): void {\r\n                if (this.debug) {\r\n                    console.log(`[ClientManager] ${message}`);\r\n                }\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n    }\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n// ╔════════════════════════════════════════ UTILS ═════════════════════════════════════════╗\r\n\r\n    /**\r\n     * Helper to safely get translation\r\n     * Use this in components to access translations\r\n     */\r\n    export function t(key: string, defaultValue?: string) {\r\n        const clientManager = getGlobalClientManager();\r\n        if (!clientManager) {\r\n            console.warn('[ClientManager] Not initialized. Using default value or key.');\r\n            return defaultValue ?? key;\r\n        }\r\n        return clientManager.t(key, defaultValue);\r\n    }\r\n\r\n    /**\r\n     * Get global ClientManager instance if available\r\n     */\r\n    export function getGlobalClientManager(): ClientManager | undefined {\r\n        return (globalThis as any).__CLIENT_MANAGER__ as ClientManager | undefined;\r\n    }\r\n\r\n\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n"]}